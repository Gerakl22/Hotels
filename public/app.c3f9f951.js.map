{"version":3,"sources":["js/infoAboutHotel.js","js/listHotels.js","js/reset.js","js/form.js","js/app.js"],"names":["InfoAboutHotel","container","data","_init","render","id","btnEdit","document","createElement","classList","value","textContent","setAttribute","addEventListener","_clickEditBtn","event","currentTarget","getAttribute","form","querySelector","nameHotelNode","cityNode","addressNode","starsNode","anotherInfoNode","gridCheckNode","idNode","dateNode","fetch","method","then","response","json","list","forEach","item","nameHotel","city","address","stars","anotherInfo","date","$","collapse","catch","error","console","innerHTML","_createEditBtn","template","_clear","append","ListHotels","infoAboutHotel","activeListHotels","_handleClickListHotels","_clickListHotels","bind","remove","target","includes","add","_removeActive","reset","querySelectorAll","input","Form","idForm","dateForm","button","listHotels","_handleSubmitBtn","_submit","index","Date","getTime","toLocaleDateString","toLocaleTimeString","slice","url","headers","body","JSON","stringify","preventDefault","checkValidity","_setMetaData","_createIndexDate","_createLocalDate","currentMethod","formData","FormData","name","log","_send","formHotelNode","addInfoBtnNode","listHotelsNode"],"mappings":"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AL,CACGA,EDCL,CAEQ,CCJN,CACQ,QDGD5B,ECHE6B,EDGH,EAAU,ICHR;ADIN7B,ACJM,QDINA,IAAI,CAAC+B,IAAL,ACJoBF,CDIVG,OAAV,ACJ4B,CDIV,ACJWF,IAAT,EAAd,IDIaG,IAAD,EAAU;AAC1B,ACLI,SADR,EAEGL,GDIKK,CCNR,CAEQ,EDII,CAAC9B,EAAL,IAAWA,CCJVH,CDIL,EAAmB,CCJf,EAAU,OEVH;AACjB,AHcQkB,ACJFlB,UEVAuC,AFUAvC,EDIEkB,EGdE,AFUA,CAACa,EEVE,EFUP,CAAUC,CEVCwC,IAAJ,AHcQ,CAAChE,CGdtB,AFUM,CAAkB,GDIhB,GAAsByB,IAAI,ACJTA,CDIUC,GCJX,EAAU,IDI1B;AGZR,AHaQf,ACJA,YDIAA,CGZNoB,GFQUpC,CERN,CAACuE,AFQO,EDIE,CAAClE,CCJCyB,IDIV,ACJc,CAAC9B,EDIE8B,ACJjB,EAAmB,EDIE,CAACE,EGZ5B,EHYM,GGZsB,GAA5B,GAAkCI,IAAI,CAACoC,kBAAL,GAA0BC,KAA1B,CAAgC,CAAhC,EAAmC,CAAC,CAApC,CADpC;AAGD,AHWSxD,ACJE,YDIFA,MCJMtB,KDIK,CAACU,KAAZ,GAAoByB,IAAI,CAACG,OAAzB,ICJE,CAAmB,KAAI,CAACe,cAAxB,EAAwClB,IAAxC;ADKFZ,ACJC,YDIDA,SAAS,CAACb,KAAV,GAAkByB,IAAI,CAACI,KAAvB;AACAf,ACJD,WAJD,CDQEA,eAAe,CAACd,KAAhB,GAAwByB,IAAI,CAACK,WAA7B;AACAf,ACJH,SARH,EASGmB,CDGGnB,ICZN,CASS,QDGU,CGZjBvB,AHYkBQ,CCHVmC,IDGJ,CGZEhB,AFSC,EDGmBM,IAAI,CAACV,CGZjB,YHYV;AGZU,AHaVC,ACJG,YDIHA,KCJcoB,CDIR,CAACpC,KAAP,ACJqB,CAACmC,EDIPV,GCJD,CDIK,ACJSU,CDIRxC,EAApB,ECJc,CAAX;ADKHsB,ACLG,SATT,GDcMA,QAAQ,CAACjB,KAAT,GAAiByB,IAAI,CAACM,IAAtB;AGbR,AHeQC,ACNP,UETGqC,EHeIrC,CGfD,AHeE,CAAC,EGfA,WAAV,KHeS,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","file":"app.c3f9f951.js","sourceRoot":"..\\client","sourcesContent":["export class InfoAboutHotel {\r\n  constructor(container, data) {\r\n    this.container = container;\r\n    this.data = data;\r\n\r\n    this._init();\r\n  }\r\n\r\n  _init() {\r\n    this.render();\r\n  }\r\n\r\n  _createEditBtn(id) {\r\n    const btnEdit = document.createElement(\"button\");\r\n\r\n    btnEdit.classList.value = \"btn btn-warning mt-auto\";\r\n    btnEdit.textContent = \"Редактировать\";\r\n    btnEdit.setAttribute(\"data-id\", id);\r\n    btnEdit.addEventListener(\"click\", this._clickEditBtn);\r\n\r\n    return btnEdit;\r\n  }\r\n\r\n  _clickEditBtn(event) {\r\n    const id = event.currentTarget.getAttribute(\"data-id\");\r\n    const form = document.querySelector(\"#form\");\r\n    const nameHotelNode = form.querySelector('[name=\"nameHotel\"]');\r\n    const cityNode = form.querySelector('[name=\"city\"]');\r\n    const addressNode = form.querySelector('[name=\"address\"]');\r\n    const starsNode = form.querySelector('[name=\"stars\"]');\r\n    const anotherInfoNode = form.querySelector('[name=\"anotherInfo\"]');\r\n    const gridCheckNode = form.querySelector('[name=\"gridCheck\"]');\r\n    const idNode = form.querySelector('[name=\"id\"]');\r\n    const dateNode = form.querySelector('[name=\"date\"]');\r\n\r\n    form.setAttribute(\"data-method\", \"PUT\");\r\n\r\n    fetch(\"/api/data\", { method: \"GET\" })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        data.list.forEach((item) => {\r\n          if (item.id == id) {\r\n            nameHotelNode.value = item.nameHotel;\r\n            cityNode.value = item.city;\r\n            addressNode.value = item.address;\r\n            starsNode.value = item.stars;\r\n            anotherInfoNode.value = item.anotherInfo;\r\n            gridCheckNode.value = item.gridCheckNode;\r\n            idNode.value = item.id;\r\n            dateNode.value = item.date;\r\n\r\n            $(\"#collapseExample\").collapse(\"show\");\r\n          }\r\n        });\r\n      })\r\n      .catch((error) => console.error(error));\r\n  }\r\n\r\n  _clear() {\r\n    this.container.innerHTML = \"\";\r\n  }\r\n\r\n  render() {\r\n    const btnEdit = this._createEditBtn(this.data.id);\r\n\r\n    const template = `\r\n        <h5 class='hotel-date'>${this.data.date}</h5>\r\n        <div class='hotel-address'>Адрес: ${this.data.address}</div>\r\n        <div class='hotel-stars'>Количество звезд: ${this.data.stars}</div>\r\n        <div class='hotel-anotherInfo'>Дополнительная информация: ${this.data.anotherInfo}</div>\r\n    `;\r\n\r\n    this._clear();\r\n    this.container.innerHTML = this.container.innerHTML + template;\r\n    this.container.append(btnEdit);\r\n  }\r\n}\r\n","import { InfoAboutHotel } from \"./infoAboutHotel\";\r\n\r\nexport class ListHotels {\r\n  constructor(container, data) {\r\n    this.container = container;\r\n    this.data = data;\r\n    this.infoAboutHotel = document.querySelector(\"#infoAboutHotel\");\r\n    this.activeListHotels = null;\r\n\r\n    this._handleClickListHotels = this._clickListHotels.bind(this);\r\n\r\n    this._init();\r\n  }\r\n\r\n  _init() {\r\n    this.render();\r\n    this.container.addEventListener(\"click\", this._handleClickListHotels);\r\n  }\r\n\r\n  _removeActive() {\r\n    if (!this.activeListHotels) return;\r\n\r\n    this.activeListHotels.classList.remove(\"active\");\r\n  }\r\n\r\n  _clickListHotels(event) {\r\n    const target = event.target;\r\n\r\n    if (target.classList.value.includes(\"hotel-item\")) {\r\n      const id = target.getAttribute(\"data-id\");\r\n\r\n      target.classList.add(\"active\");\r\n      this._removeActive();\r\n      this.activeListHotels = target;\r\n\r\n      fetch(\"/api/data\", { method: \"GET\" })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          data.list.forEach((item) => {\r\n            if (id == item.id) {\r\n              new InfoAboutHotel(this.infoAboutHotel, item);\r\n            }\r\n          });\r\n        })\r\n        .catch((error) => console.error(error));\r\n    }\r\n  }\r\n\r\n  _clear() {\r\n    this.container.innerHTML = \"\";\r\n  }\r\n\r\n  render() {\r\n    this._clear();\r\n\r\n    this.data.forEach((item) => {\r\n      const template = `\r\n            <div class=\"hotel-item p-2\" data-id=\"${item.id}\"> \r\n              <h6>${item.nameHotel} в городе ${item.city}</h6>\r\n              <h6 class='hotel-date-item'>${item.date}</h6>\r\n            </div>  \r\n       `;\r\n\r\n      this.container.innerHTML = this.container.innerHTML + template;\r\n    });\r\n  }\r\n}\r\n","export function reset(form) {\r\n  form.reset();\r\n\r\n  [...form.querySelectorAll('[type=\"hidden\"]')].forEach((input) => {\r\n    input.value = \"\";\r\n  });\r\n}\r\n","import { ListHotels } from \"./listHotels\";\r\nimport { reset } from \"./reset\";\r\n\r\nexport class Form {\r\n  constructor(form) {\r\n    this.form = form;\r\n\r\n    this.idForm = this.form.querySelector('[name=\"id\"]');\r\n    this.dateForm = this.form.querySelector('[name=\"date\"]');\r\n    this.button = document.querySelector('[type=\"submit\"]');\r\n    this.listHotels = document.querySelector(\"#listHotels\");\r\n\r\n    this._handleSubmitBtn = this._submit.bind(this);\r\n\r\n    this._init();\r\n  }\r\n\r\n  _init() {\r\n    this.button.addEventListener(\"click\", this._handleSubmitBtn);\r\n  }\r\n\r\n  _createIndexDate() {\r\n    const index = new Date().getTime();\r\n\r\n    return index;\r\n  }\r\n\r\n  _createLocalDate() {\r\n    const date = new Date();\r\n\r\n    return (\r\n      date.toLocaleDateString() + \" \" + date.toLocaleTimeString().slice(0, -3)\r\n    );\r\n  }\r\n\r\n  _send(data, method) {\r\n    let url = \"/api/data\";\r\n\r\n    if (method == \"PUT\") url = url + `/${data.id}`;\r\n\r\n    fetch(url, {\r\n      method,\r\n      headers: { \"Content-Type\": \"application/json;charset=utf-8\" },\r\n      body: JSON.stringify(data),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => new ListHotels(this.listHotels, data.list))\r\n      .catch((error) => console.error(error));\r\n  }\r\n\r\n  _setMetaData(id, date) {\r\n    if (this.idForm.value && this.dateForm.value) return;\r\n\r\n    this.idForm.value = id;\r\n    this.dateForm.value = date;\r\n  }\r\n\r\n  _submit(event) {\r\n    event.preventDefault();\r\n\r\n    if (!this.form.checkValidity()) {\r\n      this.form.classList.add(\"invalid\");\r\n    } else {\r\n      this.form.classList.remove(\"invalid\");\r\n\r\n      this._setMetaData(this._createIndexDate(), this._createLocalDate());\r\n      const currentMethod = this.form.getAttribute(\"data-method\");\r\n\r\n      const formData = new FormData(this.form);\r\n      const data = {};\r\n\r\n      for (const [name, value] of formData) {\r\n        data[name] = value;\r\n      }\r\n\r\n      console.log(currentMethod);\r\n      this._send(data, currentMethod);\r\n\r\n      reset(this.form);\r\n      $(\"#collapseExample\").collapse(\"hide\");\r\n    }\r\n  }\r\n}\r\n","import { Form } from \"./form\";\r\nimport { ListHotels } from \"./listHotels\";\r\nimport { reset } from \"./reset\";\r\n\r\nconst formHotelNode = document.querySelector(\"#form\");\r\nnew Form(formHotelNode);\r\n\r\nconst addInfoBtnNode = document.querySelector(\"#addInfoBtn\");\r\naddInfoBtnNode.addEventListener(\"click\", () => {\r\n  formHotelNode.setAttribute(\"data-method\", \"POST\");\r\n  reset(formHotelNode);\r\n  $(\"#collapseExample\").collapse(\"show\");\r\n});\r\n\r\nconst listHotelsNode = document.querySelector(\"#listHotels\");\r\n\r\nfetch(\"/api/data\", { method: \"GET\" })\r\n  .then((response) => response.json())\r\n  .then((data) => new ListHotels(listHotelsNode, data.list))\r\n  .catch((error) => console.error(error));\r\n"]}